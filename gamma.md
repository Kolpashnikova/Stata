# gamma
Kamila Kolpashnikova  

# Gamma test




The data here is derived from the [American Time Use Survey](http://www.bls.gov/tus/). For the coding procedures, contact me via email.

## Step 1. Downloading the dataset
You need to download the ATUS_full3.dta file from my github to your working directory.


```stata
use ATUS_full3.dta, clear
```



## Step 2. Choose ordinal variables

In the datase, I will use two ordinal variables. One which is education (EduInYears) and another one is age group (Age).


```stata
sum EduInYears
sum Age
```

```


. use ATUS_full3.dta, clear

. sum EduInYears

    Variable |       Obs        Mean    Std. Dev.       Min  
>       Max
-------------+-----------------------------------------------
> ---------
  EduInYears |    159937    13.56753    3.069886          0  
>        22

. sum Age

    Variable |       Obs        Mean    Std. Dev.       Min  
>       Max
-------------+-----------------------------------------------
> ---------
         Age |    159937    46.75397    17.68782         15  
>        85
```

## Step 3. Peform gamma test

You use an option `gamma` with the `tabulate` command.


```stata
tab EduInYears Age, gamma
```

```


. use ATUS_full3.dta, clear

. tab EduInYears Age, gamma

 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        15         16         17 |     Total
-----------+---------------------------------+----------
         0 |         2          0          0 |       322 
       2.5 |         0          1          1 |     1,106 
       5.5 |         8          3          0 |     2,241 
       7.5 |       718        235         40 |     4,077 
         9 |       959      1,175        224 |     4,861 
        10 |       214      1,074      1,116 |     5,607 
        11 |        24        167      1,029 |     5,727 
        12 |        13         19        133 |    44,346 
        14 |         1          6         17 |    42,793 
        16 |         2          2          0 |    30,811 
        18 |         0          0          0 |    13,093 
        19 |         0          0          0 |     2,468 
        22 |         0          1          1 |     2,485 
-----------+---------------------------------+----------
     Total |     1,941      2,683      2,561 |   159,9 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        18         19         20 |     Total
-----------+---------------------------------+----------
         0 |         1          1          1 |       322 
       2.5 |         1          1          1 |     1,106 
       5.5 |         3          6          9 |     2,241 
       7.5 |        12         12         13 |     4,077 
         9 |        34         29         15 |     4,861 
        10 |       170         39         33 |     5,607 
        11 |       873        155         67 |     5,727 
        12 |       521        596        449 |    44,346 
        14 |       133        504        714 |    42,793 
        16 |         2          0          4 |    30,811 
        18 |         1          0          0 |    13,093 
        19 |         0          0          1 |     2,468 
        22 |         0          0          1 |     2,485 
-----------+---------------------------------+----------
     Total |     1,751      1,343      1,308 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        21         22         23 |     Total
-----------+---------------------------------+----------
         0 |         2          0          1 |       322 
       2.5 |         3          1          5 |     1,106 
       5.5 |         9         10         18 |     2,241 
       7.5 |        15         10         16 |     4,077 
         9 |        16         29         24 |     4,861 
        10 |        29         30         37 |     5,607 
        11 |        58         54         52 |     5,727 
        12 |       418        472        490 |    44,346 
        14 |       694        684        637 |    42,793 
        16 |        24        132        350 |    30,811 
        18 |         2          2          6 |    13,093 
        19 |         0          0          2 |     2,468 
        22 |         0          0          0 |     2,485 
-----------+---------------------------------+----------
     Total |     1,270      1,424      1,638 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        24         25         26 |     Total
-----------+---------------------------------+----------
         0 |         2          1          0 |       322 
       2.5 |         3         12         12 |     1,106 
       5.5 |        19         24         35 |     2,241 
       7.5 |        17         14         19 |     4,077 
         9 |        20         33         37 |     4,861 
        10 |        32         46         36 |     5,607 
        11 |        55         55         58 |     5,727 
        12 |       438        544        536 |    44,346 
        14 |       597        620        688 |    42,793 
        16 |       375        452        538 |    30,811 
        18 |        25         57        107 |    13,093 
        19 |         3          4         14 |     2,468 
        22 |         1          5          3 |     2,485 
-----------+---------------------------------+----------
     Total |     1,587      1,867      2,083 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        27         28         29 |     Total
-----------+---------------------------------+----------
         0 |         3          2          3 |       322 
       2.5 |         6          6          9 |     1,106 
       5.5 |        22         47         30 |     2,241 
       7.5 |        23         24         33 |     4,077 
         9 |        28         54         43 |     4,861 
        10 |        41         34         42 |     5,607 
        11 |        73         58         62 |     5,727 
        12 |       601        646        652 |    44,346 
        14 |       692        771        755 |    42,793 
        16 |       606        595        641 |    30,811 
        18 |       133        178        210 |    13,093 
        19 |        24         25         40 |     2,468 
        22 |        11         14         22 |     2,485 
-----------+---------------------------------+----------
     Total |     2,263      2,454      2,542 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        30         31         32 |     Total
-----------+---------------------------------+----------
         0 |         2          6          2 |       322 
       2.5 |        10         11         12 |     1,106 
       5.5 |        49         49         53 |     2,241 
       7.5 |        35         29         30 |     4,077 
         9 |        52         53         54 |     4,861 
        10 |        34         41         34 |     5,607 
        11 |        56         60         53 |     5,727 
        12 |       667        727        705 |    44,346 
        14 |       806        908        861 |    42,793 
        16 |       720        715        781 |    30,811 
        18 |       229        266        319 |    13,093 
        19 |        49         52         57 |     2,468 
        22 |        26         41         43 |     2,485 
-----------+---------------------------------+----------
     Total |     2,735      2,958      3,004 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        33         34         35 |     Total
-----------+---------------------------------+----------
         0 |         3          2          7 |       322 
       2.5 |        19         15         19 |     1,106 
       5.5 |        59         57         43 |     2,241 
       7.5 |        27         29         38 |     4,077 
         9 |        49         35         47 |     4,861 
        10 |        36         50         37 |     5,607 
        11 |        66         53         53 |     5,727 
        12 |       713        762        756 |    44,346 
        14 |       875        885        875 |    42,793 
        16 |       811        872        809 |    30,811 
        18 |       337        346        322 |    13,093 
        19 |        58         48         70 |     2,468 
        22 |        46         50         63 |     2,485 
-----------+---------------------------------+----------
     Total |     3,099      3,204      3,139 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        36         37         38 |     Total
-----------+---------------------------------+----------
         0 |         6          1          3 |       322 
       2.5 |        19         19         14 |     1,106 
       5.5 |        52         53         40 |     2,241 
       7.5 |        33         40         25 |     4,077 
         9 |        55         45         42 |     4,861 
        10 |        33         41         49 |     5,607 
        11 |        34         54         37 |     5,727 
        12 |       726        813        812 |    44,346 
        14 |       902        878        918 |    42,793 
        16 |       873        923        867 |    30,811 
        18 |       359        381        346 |    13,093 
        19 |        69         71         69 |     2,468 
        22 |        58         82         64 |     2,485 
-----------+---------------------------------+----------
     Total |     3,219      3,401      3,286 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        39         40         41 |     Total
-----------+---------------------------------+----------
         0 |         2          4          4 |       322 
       2.5 |        17         18         13 |     1,106 
       5.5 |        45         41         50 |     2,241 
       7.5 |        33         38         39 |     4,077 
         9 |        37         43         41 |     4,861 
        10 |        40         27         30 |     5,607 
        11 |        62         46         46 |     5,727 
        12 |       788        781        856 |    44,346 
        14 |       939        968        940 |    42,793 
        16 |       934        894        894 |    30,811 
        18 |       373        375        385 |    13,093 
        19 |        78         82         81 |     2,468 
        22 |        61         48         63 |     2,485 
-----------+---------------------------------+----------
     Total |     3,409      3,365      3,442 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        42         43         44 |     Total
-----------+---------------------------------+----------
         0 |         4          3          5 |       322 
       2.5 |        15         14         15 |     1,106 
       5.5 |        41         34         34 |     2,241 
       7.5 |        39         33         38 |     4,077 
         9 |        45         40         24 |     4,861 
        10 |        47         47         40 |     5,607 
        11 |        47         52         58 |     5,727 
        12 |       847        848        919 |    44,346 
        14 |       911        975        875 |    42,793 
        16 |       899        864        842 |    30,811 
        18 |       360        370        346 |    13,093 
        19 |        59         70         69 |     2,468 
        22 |        77         66         79 |     2,485 
-----------+---------------------------------+----------
     Total |     3,391      3,416      3,344 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        45         46         47 |     Total
-----------+---------------------------------+----------
         0 |         6          5          3 |       322 
       2.5 |        13         10         13 |     1,106 
       5.5 |        33         50         30 |     2,241 
       7.5 |        39         39         21 |     4,077 
         9 |        39         37         46 |     4,861 
        10 |        50         39         58 |     5,607 
        11 |        47         53         64 |     5,727 
        12 |       869        857        899 |    44,346 
        14 |       879        855        902 |    42,793 
        16 |       813        714        747 |    30,811 
        18 |       280        310        308 |    13,093 
        19 |        59         48         71 |     2,468 
        22 |        47         71         60 |     2,485 
-----------+---------------------------------+----------
     Total |     3,174      3,088      3,222 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        48         49         50 |     Total
-----------+---------------------------------+----------
         0 |         8          2          4 |       322 
       2.5 |        14         16         22 |     1,106 
       5.5 |        30         31         37 |     2,241 
       7.5 |        43         30         29 |     4,077 
         9 |        37         38         26 |     4,861 
        10 |        41         41         55 |     5,607 
        11 |        58         51         54 |     5,727 
        12 |       892        809        867 |    44,346 
        14 |       879        885        790 |    42,793 
        16 |       707        611        633 |    30,811 
        18 |       292        282        317 |    13,093 
        19 |        48         67         58 |     2,468 
        22 |        55         72         57 |     2,485 
-----------+---------------------------------+----------
     Total |     3,104      2,935      2,949 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        51         52         53 |     Total
-----------+---------------------------------+----------
         0 |         8          4          7 |       322 
       2.5 |        19          8         24 |     1,106 
       5.5 |        36         36         33 |     2,241 
       7.5 |        32         48         47 |     4,077 
         9 |        44         33         33 |     4,861 
        10 |        61         39         60 |     5,607 
        11 |        50         60         50 |     5,727 
        12 |       819        828        795 |    44,346 
        14 |       861        834        771 |    42,793 
        16 |       611        566        558 |    30,811 
        18 |       275        294        276 |    13,093 
        19 |        59         60         53 |     2,468 
        22 |        64         51         53 |     2,485 
-----------+---------------------------------+----------
     Total |     2,939      2,861      2,760 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        54         55         56 |     Total
-----------+---------------------------------+----------
         0 |         4          7          7 |       322 
       2.5 |        14         23         12 |     1,106 
       5.5 |        36         29         34 |     2,241 
       7.5 |        42         43         31 |     4,077 
         9 |        30         26         43 |     4,861 
        10 |        38         37         48 |     5,607 
        11 |        56         64         61 |     5,727 
        12 |       782        765        794 |    44,346 
        14 |       791        791        769 |    42,793 
        16 |       535        510        509 |    30,811 
        18 |       263        258        265 |    13,093 
        19 |        62         39         47 |     2,468 
        22 |        48         59         48 |     2,485 
-----------+---------------------------------+----------
     Total |     2,701      2,651      2,668 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        57         58         59 |     Total
-----------+---------------------------------+----------
         0 |         3          9          6 |       322 
       2.5 |        30         21         20 |     1,106 
       5.5 |        33         35         24 |     2,241 
       7.5 |        39         51         48 |     4,077 
         9 |        40         40         38 |     4,861 
        10 |        55         48         51 |     5,607 
        11 |        47         56         53 |     5,727 
        12 |       742        739        700 |    44,346 
        14 |       743        711        735 |    42,793 
        16 |       474        442        404 |    30,811 
        18 |       258        255        240 |    13,093 
        19 |        38         40         37 |     2,468 
        22 |        48         51         48 |     2,485 
-----------+---------------------------------+----------
     Total |     2,550      2,498      2,404 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        60         61         62 |     Total
-----------+---------------------------------+----------
         0 |         6          8          1 |       322 
       2.5 |        21         25         14 |     1,106 
       5.5 |        22         32         30 |     2,241 
       7.5 |        50         60         52 |     4,077 
         9 |        41         35         46 |     4,861 
        10 |        36         38         45 |     5,607 
        11 |        53         49         58 |     5,727 
        12 |       727        699        645 |    44,346 
        14 |       640        664        592 |    42,793 
        16 |       410        394        378 |    30,811 
        18 |       231        208        217 |    13,093 
        19 |        48         47         43 |     2,468 
        22 |        42         43         44 |     2,485 
-----------+---------------------------------+----------
     Total |     2,327      2,302      2,165 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        63         64         65 |     Total
-----------+---------------------------------+----------
         0 |         2          6         10 |       322 
       2.5 |        23         17         15 |     1,106 
       5.5 |        27         30         44 |     2,241 
       7.5 |        58         52         59 |     4,077 
         9 |        39         45         41 |     4,861 
        10 |        49         46         66 |     5,607 
        11 |        57         57         67 |     5,727 
        12 |       686        663        669 |    44,346 
        14 |       558        584        547 |    42,793 
        16 |       323        285        327 |    30,811 
        18 |       194        174        196 |    13,093 
        19 |        39         32         32 |     2,468 
        22 |        51         44         51 |     2,485 
-----------+---------------------------------+----------
     Total |     2,106      2,035      2,124 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        66         67         68 |     Total
-----------+---------------------------------+----------
         0 |         5          4          8 |       322 
       2.5 |        26         23         21 |     1,106 
       5.5 |        38         44         42 |     2,241 
       7.5 |        58         57         69 |     4,077 
         9 |        27         34         30 |     4,861 
        10 |        55         57         54 |     5,607 
        11 |        46         46         54 |     5,727 
        12 |       709        617        568 |    44,346 
        14 |       455        456        405 |    42,793 
        16 |       269        253        246 |    30,811 
        18 |       181        131        147 |    13,093 
        19 |        30         27         22 |     2,468 
        22 |        39         42         38 |     2,485 
-----------+---------------------------------+----------
     Total |     1,938      1,791      1,704 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        69         70         71 |     Total
-----------+---------------------------------+----------
         0 |         3         10          7 |       322 
       2.5 |        21         18         20 |     1,106 
       5.5 |        23         26         23 |     2,241 
       7.5 |        61         60         42 |     4,077 
         9 |        33         51         36 |     4,861 
        10 |        61         44         49 |     5,607 
        11 |        46         64         51 |     5,727 
        12 |       556        545        505 |    44,346 
        14 |       386        307        337 |    42,793 
        16 |       215        198        206 |    30,811 
        18 |       140        134        104 |    13,093 
        19 |        18         22         12 |     2,468 
        22 |        36         31         25 |     2,485 
-----------+---------------------------------+----------
     Total |     1,599      1,510      1,417 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        72         73         74 |     Total
-----------+---------------------------------+----------
         0 |         8          7         12 |       322 
       2.5 |        15         25         28 |     1,106 
       5.5 |        39         37         28 |     2,241 
       7.5 |        62         57         85 |     4,077 
         9 |        34         25         35 |     4,861 
        10 |        64         60         43 |     5,607 
        11 |        48         46         52 |     5,727 
        12 |       526        500        489 |    44,346 
        14 |       310        288        285 |    42,793 
        16 |       178        158        161 |    30,811 
        18 |        98         90         87 |    13,093 
        19 |        13         20         10 |     2,468 
        22 |        16         18         24 |     2,485 
-----------+---------------------------------+----------
     Total |     1,411      1,331      1,339 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        75         76         77 |     Total
-----------+---------------------------------+----------
         0 |         4          3          7 |       322 
       2.5 |        21         17         30 |     1,106 
       5.5 |        22         32         21 |     2,241 
       7.5 |        52         65         64 |     4,077 
         9 |        32         20         33 |     4,861 
        10 |        54         46         55 |     5,607 
        11 |        50         48         51 |     5,727 
        12 |       480        454        450 |    44,346 
        14 |       265        239        257 |    42,793 
        16 |       151        152        167 |    30,811 
        18 |        72         95         85 |    13,093 
        19 |        20         21         25 |     2,468 
        22 |        15         24         29 |     2,485 
-----------+---------------------------------+----------
     Total |     1,238      1,216      1,274 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |               Age
  complete |        78         79         80 |     Total
-----------+---------------------------------+----------
         0 |        12          4         30 |       322 
       2.5 |        28         12         88 |     1,106 
       5.5 |        28         28        122 |     2,241 
       7.5 |        72         80        372 |     4,077 
         9 |        31         29        167 |     4,861 
        10 |        43         45        215 |     5,607 
        11 |        41         33        199 |     5,727 
        12 |       391        369      1,815 |    44,346 
        14 |       255        228      1,006 |    42,793 
        16 |       149        123        574 |    30,811 
        18 |        74         53        262 |    13,093 
        19 |        11         15         56 |     2,468 
        22 |        17         15         59 |     2,485 
-----------+---------------------------------+----------
     Total |     1,152      1,034      4,965 |   159,937 


 RECODE of |
   peeduca |
  (Edited: |
   what is |
       the |
   highest |
  level of |
school you |
      have |    Age
  complete |        85 |     Total
-----------+-----------+----------
         0 |         9 |       322 
       2.5 |        47 |     1,106 
       5.5 |        53 |     2,241 
       7.5 |       201 |     4,077 
         9 |        65 |     4,861 
        10 |       102 |     5,607 
        11 |        70 |     5,727 
        12 |       878 |    44,346 
        14 |       504 |    42,793 
        16 |       239 |    30,811 
        18 |       112 |    13,093 
        19 |        24 |     2,468 
        22 |        24 |     2,485 
-----------+-----------+----------
     Total |     2,328 |   159,937 

                    gamma =   0.0359  ASE = 0.002
```

In the output above, the gamma = 0.0359 and Stata also shows ASE (Asymptotic Standard Error) = 0.002. To calculate z-value you need to divide gamma by ASE.


```stata
display 0.0359/0.002
```

```


. display 0.0359/0.002
17.95
```

Using a table for z-values, we can find that for z=17.95, p <0.001 (let's assume that this is our alpha-level).

## Step 4. Interpretation

Gamma is a PRE measure (PRE - proportional reduction of error), so you can tell the strength of the association between the two variables using gamma. 

The p-value provides us with evidence to reject the null hypothesis of statistical independence.

We are more than 99.9% ($(1-\alpha-level)*100$) confident that we can reject the null hypothesis. 
OR 
There is less than 0.1% ($\alpha-level*100$) chance that the relation between `dependent variable` and `independent variable` is due to chance.

Therefore, we conclude that:

The two variables are associated, i.e., they are not statistically independent.
The Gamma coefficient tells us that the errors in predicting the `dependent variable` are reduced by a proportion of 0.0359 (the value of Gamma coefficient) when you know the `independent variable`.
